# 更新日志

本文档记录了 mihomo-rs 项目的所有重要更改。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。


## [v0.1.2] - 2025-01-09

### 新增
- 🚀 完整的CLI和SDK功能同步
- 📊 高级监控功能增强（性能统计、健康检查）
- 🤖 代理自动选择和批量测试功能
- 🔧 规则引擎高级功能（规则验证、统计分析）
- 🛠️ 服务管理完整API接口
- 📁 配置管理高级功能（配置备份、恢复）
- 🔄 统一的错误处理和日志记录机制
- ✅ 完整的测试用例覆盖（单元测试、集成测试、性能测试）

### 改进
- 🎯 优化代理延迟测试算法
- 📈 增强监控数据收集和分析
- 🔍 改进规则匹配性能
- 🛡️ 强化错误处理机制
- 📝 完善文档测试覆盖

### 修复
- 🐛 修复编译错误和类型约束问题
- 🔧 解决借用检查和生命周期问题
- 🧹 清理未使用的代码和导入
- ⚡ 优化内存使用和性能

### 技术改进
- 📦 模块化架构优化
- 🔒 增强安全性和稳定性
- 🚀 提升整体性能表现
- 📊 完善监控和统计功能

## [v0.1.1] - 2025-09-05

### 新增
- 发布版本 v0.1.1

### 更改
- 版本更新和改进

### 修复
- Bug 修复和性能优化

## [0.1.0] - 2025-09-04

### 新增
- 🚀 完整的 Rust SDK，支持 mihomo 代理服务管理
- 🛠️ 功能丰富的命令行工具 (CLI)
- 📦 服务生命周期管理（初始化、启动、停止、重启）
- 🔄 版本管理系统（下载、安装、升级、回滚）
- 📊 实时监控功能（连接状态、流量统计、性能监控）
- 🎯 规则引擎支持（流量分流、规则匹配）
- 🔧 配置管理（解析、验证、重载）
- 🗂️ 代理管理（列表、切换、延迟测试）
- 🔐 认证和安全支持
- 📝 完整的错误处理和日志系统

### 核心功能

#### SDK 功能
- `MihomoClient` - 主要客户端接口
- `ServiceManager` - 服务管理器
- `ConfigManager` - 配置管理器
- `ProxyManager` - 代理管理器
- `RuleEngine` - 规则引擎
- `Monitor` - 监控模块
- 完整的类型定义和错误处理

#### CLI 工具
- `mihomo-rs status` - 查看服务状态
- `mihomo-rs service` - 服务管理命令组
  - `init` - 初始化服务
  - `start/stop/restart` - 服务控制
  - `upgrade` - 版本升级
  - `uninstall` - 服务卸载
  - `cleanup` - 备份清理
- `mihomo-rs proxy` - 代理管理命令组
- `mihomo-rs config` - 配置管理命令组
- `mihomo-rs monitor` - 监控命令
- `mihomo-rs rules` - 规则管理
- `mihomo-rs connections` - 连接管理

#### 服务管理特性
- 自动下载和安装 mihomo 二进制文件
- 基于 PID 文件的进程管理
- 版本升级和回滚机制
- 自动备份和清理
- 配置目录自动初始化
- 跨平台支持 (macOS, Linux, Windows)

#### 监控和统计
- 实时连接监控
- 流量统计
- 代理延迟测试
- 服务健康检查
- 性能指标收集

### 技术特性
- 🦀 纯 Rust 实现，性能优异
- 🔄 异步编程支持 (tokio)
- 📋 结构化日志 (log + env_logger)
- 🧪 完整的测试覆盖（单元测试、集成测试、性能测试）
- 📚 详细的文档和示例
- 🔧 模块化设计，易于扩展

### 依赖项
- `serde` - 序列化和反序列化
- `reqwest` - HTTP 客户端
- `tokio` - 异步运行时
- `clap` - 命令行参数解析
- `sysinfo` - 系统信息获取
- `chrono` - 时间处理
- `regex` - 正则表达式
- `thiserror` - 错误处理

### 文档
- 📖 完整的 README.md
- 📚 API 文档 (docs.rs)
- 💡 使用示例和教程
- 🔧 开发者指南

### 测试
- ✅ 单元测试覆盖所有核心功能
- 🧪 集成测试验证端到端功能
- ⚡ 性能测试确保高效运行
- 🎭 Mock 测试支持离线开发

---




